<div class="container mt-5">
  <div class="row mb-4">
    <div class="col-md-10">
      <button class="btn btn-outline-secondary" (click)="goBack()">
        <i class="bi bi-arrow-left"></i>
        Back
      </button>
    </div>
  </div>
  <ng-container *ngIf="isLoading; else loadedContent">
    <!-- Placeholder for Blog Header -->
    <div class="row justify-content-center mb-4">
      <div class="col-md-10">
        <div class="text-center mb-4">
          <h1 class="placeholder-glow">
            <span class="placeholder col-6"></span>
          </h1>
          <p class="text-muted placeholder-glow">
            <span class="placeholder col-3"></span>
          </p>
        </div>
      </div>
    </div>

    <!-- Placeholder for Blog Image -->
    <div class="row justify-content-center mb-5">
      <div class="col-md-10">
        <div class="placeholder-glow">
          <div class="placeholder rounded w-100" style="height: 400px"></div>
        </div>
      </div>
    </div>

    <!-- Placeholder for Blog Content -->
    <div class="row justify-content-center">
      <div class="col-md-10">
        <div class="placeholder-glow">
          <p class="placeholder col-8"></p>
          <p class="placeholder col-10"></p>
          <p class="placeholder col-9"></p>
          <p class="placeholder col-5"></p>
        </div>
      </div>
    </div>
  </ng-container>

  <ng-template #loadedContent>
    <ng-container *ngIf="currentBlog?.id; else notFound">
      <div class="row justify-content-center">
        <div class="col-md-10">
          <div class="text-center mb-4">
            <h1 class="display-4 fw-bold">{{ currentBlog?.title }}</h1>
            <p class="text-muted">
              Published on: {{ currentBlog?.created_at | date }}
            </p>
          </div>
        </div>
      </div>
  
      <div class="row justify-content-center mb-5">
        <div class="col-md-10">
          <img
            srcErrorFallback
            [fallback]="
              'https://files.fullstack.edu.vn/f8-prod/user_avatars/309573/64af7196d84c6.png'
            "
            [src]="currentBlog?.image?.url"
            alt="Blog Image"
            class="img-fluid rounded shadow-sm w-100"
            style="height: 400px; object-fit: contain"
          />
        </div>
      </div>
  
      <div class="row justify-content-center">
        <div class="col-md-10">
          <div class="blog-content">
            <p>{{ currentBlog?.content }}</p>
  
            <p class="lead">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis
              vehicula metus vel quam blandit, eu laoreet odio faucibus. Sed a
              venenatis mauris, at convallis lectus. Nulla facilisi.
            </p>
            <p>
              Fusce nec turpis ultricies, pretium eros in, malesuada mi. Morbi
              vehicula ullamcorper lorem, sit amet auctor dolor fringilla quis.
              Donec id hendrerit mi, at sagittis nisi. Curabitur condimentum neque
              at sapien vulputate, nec ultricies massa tincidunt.
            </p>
          </div>
        </div>
      </div>
    </ng-container>
  </ng-template>

  <ng-template #notFound>
    <div class="row justify-content-center mt-5">
      <div class="col-md-10 text-center">
        <div class="alert alert-warning" role="alert">
          <h4 class="alert-heading">Blog Not Found</h4>
          <p>Sorry, the blog post you are looking for does not exist or has been removed.</p>
          <hr>
          <a href="/" class="btn btn-primary">Return to Home</a>
        </div>
      </div>
    </div>
  </ng-template>
</div>
